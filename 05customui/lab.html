<!doctype html>  
<html>
	<head>
		<meta charset="utf-8">
		<title class="l_labname">Lab: Creating a Widget</title>
		<meta name="description" content="Titanium Certified Expert, Creating a Widet">
    	<meta name="author" content="Appcelerator, Inc." />
		
		<link href='http://fonts.googleapis.com/css?family=Lato:400,700,400italic,700italic' rel='stylesheet' type='text/css'>
		<link rel="stylesheet" href="../../presentation-engine/reveal.js/css/reset.css">
		<link rel="stylesheet" href="../../presentation-engine/reveal.js/css/main.css">
		<link rel="stylesheet" href="../../presentation-engine/reveal.js/lib/zenburn.css">
		<link rel="stylesheet" href="../css/presentation.css">
		<script type="text/javascript" src="../../presentation-engine/js/l10n.js"></script>
		<script type="text/javascript" src="i18n/lablocalizations.js"></script>
		<style>
		html, body {
			overflow: always !important;
		}
		.slides {
			top: 40% !important;
		}
		</style>
		<script>
		function loadStyleSheet(url){
		    if(document.createStyleSheet) {
		        try {document.createStyleSheet(url);} catch (e) { }
		    }
		    else{
		        var css;
		        css         = document.createElement('link');
		        css.rel     = 'stylesheet';
		        css.type    = 'text/css';
		        css.media   = "all";
		        css.href    = url;
		        document.getElementsByTagName("head")[0].appendChild(css);
		    }
		}
		var browserlang = document.documentElement.lang || String.locale || 'en-US';
		loadStyleSheet('../css/'+browserlang+'.css');
		</script>
		<link rel="stylesheet" href="../../presentation-engine/reveal.js/css/print.css" media="print">
	</head>
	
	<body>
		<div id="reveal">	
			<!-- Any section element inside of this container is displayed as a slide -->

			<!--
				LAB FILE INSTRUCTIONS:
					- Set the <title> tag to this lesson's US English title
					- Set the <meta description tag to the US English course & lesson title
					- Add one <section></section> for each slide. Slides can contain most any valid HTML
					- Each text tag (<p> or <li> or <h1> etc.) must have a class name that begins with
						"l_" and is unique. Each of those class names must be added to the i18n/localizations.js
						file and their values must be set equal to the US English version of the strings. That 
						file is used for translation and its contents OVERRIDES the text in this file.
					- Each slide must have a <div class="slidenote"></div> container, which can be empty. These
						are used for presenter notes. They also must be given unique "l_" classnames and strings
						provided in the localizations.js file.
					- Please use inline CSS on the slides to size & arrange contents.
					- Graphics should be placed in the images folder and cropped/sized appropriately.
					- Assume a 1024 x 768 display resolution
					- A link to the index.html for each lesson must be added in order to the coursename/index.html
						title slide.
			-->
			
			
<div class="slides">
<div id="labwrapper">			
<section>

<!-- YOUR LAB CONTENT GOES HERE -->
<h1 class="l_labname">Lab - Creating a Widget</h1>
<p class="l_mission"><strong>Mission: </strong>In this lab, you will create a simple widget that displays a checkbox.</p>

<p class="l_specification"><strong>Specification: </strong><img src='http://assets.appcelerator.com.s3.amazonaws.com/app_u/tce_labs/Finished/tce05finished.png' height='300' align='right'/>To successfully complete this lab:
<ul style="width:70%;float:left;">
	<li>Create a widget and implement it within a test project.</li>
	<li>The widget should show a box and associated text message</li>
	<li>When the box or label is tapped, a checkmark should be displayed in or removed from the box.</li>
</ul>

</p>

<table>
	<tr>
		<td colspan="2" class="labinstructions l_step1">1. Create a new Titanium Alloy project, giving it a name and app ID of your choice. Close the tiapp.xml file.</td>
	</tr>
	<tr>
		<td class="tdfiller"><!-- leave empty--></td>
		<td class="labexplanations l_stepexplanation1"></td>
	</tr>
<!-- - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - -->
<tr>
	<td colspan="2" class="labinstructions l_labstep2">2. Right-click the app folder, and choose New, Alloy Widget. Name your widget 'checkbox'. Expand the app/widgets folder and explore the folders and files within. Open your app's config.json file to confirm your new widget has been included as a dependency.</td>
</tr>
<tr>
	<td class="tdfiller"><!-- leave empty--></td>
	<td class="labexplanations l_labstepexplanation2"></td>
</tr>
<!-- - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - -->
<tr>
	<td colspan="2" class="labinstructions l_labstep3">3. In widget.xml, define three UI elements: a view which contains two labels. Give the view an ID of 'checkbox' and the labels the IDs 'chk' and 'lbl'. In the TSS file, set these styles:<br/>
<ul style="width:80%;">
	<li>'#checkbox': height &amp; width = Ti.UI.SIZE and a 'horizontal' layout</li>
	<li>'#chk': text color black, height &amp; width of '32dp', a 1 pt black border, 18 pt bold text that is centered, and a left of 1 and top of 0.</li>
	<li>'#lbl': text color black, height &amp; width of Ti.UI.SIZE, 18 pt bold text that is left-aligned, and a left of 10</li>
</ul>

</td>
</tr>
<tr>
	<td class="tdfiller"><!-- leave empty--></td>
	<td class="labexplanations l_labstepexplanation3">You will use a label for the checkbox itself. You'll give it a border and other styling properties. When 'checked' you'll set that label's text property equal to the Unicode character for a checkmark.</td>
</tr>
<!-- - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - -->
<tr>
	<td colspan="2" class="labinstructions l_labstep4">4. In widget.js, declare an 'args' variable that refers to the controller's arguments. Then, define the init() function. It accepts a function as an argument. Set $.lbl.text to the args.message value or a default string of your choice. Initialize a 'checkState' variable to false. Add a click event listener to the $.checkbox component. When clicked, set 'checkState' to the opposite of it's current value. If it's true, set $.chk.text equal to the Unicode value '\u2713' otherwise set it to an empty string. Invoke the callback function, passing checkState to it.</td>
</tr>
<tr>
	<td class="tdfiller"><!-- leave empty--></td>
	<td class="labexplanations l_labstepexplanation4"></td>
</tr>
<!-- - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - -->
<tr>
	<td colspan="2" class="labinstructions l_labstep5">5. In the app's index.xml, use the Widget tag to include your widget. Give it an ID of checkbox. Add a 'message' attribute to the tag with text of your choice to appear in the label beside the box.</td>
</tr>
<tr>
	<td class="tdfiller"><!-- leave empty--></td>
	<td class="labexplanations l_labstepexplanation5"></td>
</tr>
<!-- - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - -->
<tr>
	<td colspan="2" class="labinstructions l_labstep6">6. In your app's index.js controller, call the checkbox widget's init() method, passing to it a simple function that accepts a 'state' argument. Output a simple alert message indicating whether or not the box is checked. </td>
</tr>
<tr>
	<td class="tdfiller"><!-- leave empty--></td>
	<td class="labexplanations l_labstepexplanation6"></td>
</tr>
<!-- - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - -->
<tr>
	<td colspan="2" class="labinstructions l_labstep7">7. Build your app for the simulator/emulator. When you tap the box or label, a checkmark should be displayed (or removed) and an appropriate alert message displayed. Correct any errors and re-build, if necessary.</td>
</tr>
<tr>
	<td class="tdfiller"><!-- leave empty--></td>
	<td class="labexplanations l_labstepexplanation7"></td>
</tr>
<!-- - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - -->
<tr>
	<td colspan="2" class="labinstructions l_labstep8">8. (Optional) If time permits, modify the widget.js init() method to call the Underscore.js extend() method on both the $.lbl and $.chk elements, passing to it the arguments received in that controller. Modify the widget tag in index.xml to specify that the label should be red (add the 'color' attribute).</td>
</tr>
<tr>
	<td class="tdfiller"><!-- leave empty--></td>
	<td class="labexplanations l_labstepexplanation8">By doing so, you will be able to specify additional stylistic parameters (such as a text color) in the index view or style sheet.</td>
</tr>

</table>

<h2 class="l_summary">Summary</h2>
<p class="l_summarypara">In this lab, you created a simple widget to practice the steps involved. </p>

<h2 class="l_resources">Resources</h2>

<ul>
	<li class="l_resources1">Guides: Widget Reference: <a href='http://docs.appcelerator.com/titanium/latest/#!/guide/Alloy_Widgets'>http://docs.appcelerator.com/titanium/latest/#!/guide/Alloy_Widgets</a></li>
	<li class="l_resources2">Unicode Dingbat characters: <a href='http://en.wikipedia.org/wiki/List_of_Unicode_characters#Dingbats'>http://en.wikipedia.org/wiki/List_of_Unicode_characters#Dingbats</a></li>
	<li class="l_resources3">Finished code: <a href='http://assets.appcelerator.com.s3.amazonaws.com/app_u/tce_labs/Finished/05_customui.zip'>Amazon S3</a></li>
</ul>


<!-- MAKE NO CHANGES BELOW THIS LINE -->
</section>
</div>
</div>

			<!-- Appc logo and presenter notes -->
			<div id="appclogo"><a href="../index.html"><img src="../images/appu_thumb.png"/></a></div>

			<!-- The navigational controls UI -->
			<aside class="controls">
				<a class="left" href="#">&#x25C4;</a>
				<a class="right" href="#">&#x25BA;</a>
				<a class="up" href="#">&#x25B2;</a>
				<a class="down" href="#">&#x25BC;</a>
			</aside>

			<!-- Displays presentation progress, max value changes via JS to reflect # of slides -->
			<div class="progress"><span></span></div>
			
		</div>
		
		<script src="../../presentation-engine/reveal.js/js/reveal.js"></script>
		<script src="../../presentation-engine/reveal.js/lib/highlight.js"></script>
		<script>
			// Parse the query string into a key/value object
			var query = {};
			location.search.replace( /[A-Z0-9]+?=(\w*)/gi, function(a) {
				query[ a.split( '=' ).shift() ] = a.split( '=' ).pop();
			} );

			Reveal.initialize({
				// Display controls in the bottom right corner
				controls: true,

				// Display a presentation progress bar
				progress: true,

				// If true; each slide will be pushed to the browser history
				history: true,

				// Flags if mouse wheel navigation should be enabled
				mouseWheel: true,

				// Apply a 3D roll to links on hover
				rollingLinks: true,

				// UI style
				theme: query.theme || 'default', // default/neon

				// Transition style
				transition: query.transition || 'default' // default/cube/page/concave/linear(2d)
			});

			hljs.initHighlightingOnLoad();
		</script>
		<script src="../../presentation-engine/js/localize.js"></script>
		<script>
		var s = (function load(){
			var s = {};
			if(window.outerHeight){
				s = { w: window.outerWidth, h: window.outerHeight};
			}
			else {
				s = { w: document.body.clientWidth, h: document.body.clientHeight};
			}
			return s;
		})();
		if(s.w < 1000 || s.h < 800) {
			var slides = document.querySelectorAll( '#reveal .slides' );
			for( var i = 0, len = slides.length; i < len; i++ ) {
				slides[i].classList.add( 'smallscreen' );
		    }
		}
		</script>
	</body>
</html>
